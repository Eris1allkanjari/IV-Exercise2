<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>InfoVis UE 2024</title>

    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='styles/style.css')}}">

    <script src="https://d3js.org/d3.v7.min.js"></script>
<!--    <script type="module"   src="{{url_for('static',filename='js/index.js')}}"></script>-->
    <script   src="{{url_for('static',filename='js/heatmap.js')}}"></script>
    <script   src="{{url_for('static',filename='js/scatterplot.js')}}"></script>
    <script   src="{{url_for('static',filename='js/indicator.js')}}"></script>


</head>
<body>

<div class ='title_div'>
<h1>InfoVis UE 2024 - Exercise 2</h1>
<p>Allkanjari Eris (12347524)</p>
<p>Nestoras Athanasios (12347559)</p>
</div>

<div id="main_container" class="main_container">
     <div class="container" id="heatmap-container">
        <svg id="svg-heatmap"></svg>
        <div id="heatmap-tooltip" class="tooltip"></div>

    </div>
     <div class="container">
        <p>&nbsp;</p>
        <svg id="svg-scatterplot"></svg>
    </div>
    <div class="container">
    <svg id="svg_table"></svg>
        <p>&nbsp;</p>
        <label>Indicator:</label>
        <select id="indicator_change" class="dropdown" onchange="changeIndicator(this)">

        </select>
    </div>







<script >

    let scatterPlotData = {{ scatterPlotData | safe  }};

    let teamData = {{ teamData | safe  }};

    let columnMapping = {{ columnMapping | safe  }};

    for (let key in columnMapping) {
      let value = columnMapping[key];
      let option = document.createElement('option');
      option.value = key;
      option.textContent = value;
      document.getElementById('indicator_change').appendChild(option);
    }

     buildScatterplot(scatterPlotData,d3.select("#svg-heatmap"));
    buildHeatMap(teamData,columnMapping,scatterPlotData,d3.select("#svg-scatterplot"));


</script>

<div id="svg_line_plot" class="svg_line_plot"></div>

</body>
</html>